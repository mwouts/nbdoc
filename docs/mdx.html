---

title: Custom Preprocessors For MDX


keywords: fastai
sidebar: home_sidebar

summary: "Custom preprocessors that help convert notebook content into MDX"
description: "Custom preprocessors that help convert notebook content into MDX"
nb_path: "nbs/mdx.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: nbs/mdx.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="CleanOutput" class="doc_header"><code>class</code> <code>CleanOutput</code><a href="https://github.com/outerbounds/nbdoc/tree/master/nbdoc/mdx.py#L17" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>CleanOutput</code>(<strong>*<code>args</code></strong>, <strong>**<code>kwargs</code></strong>) :: <code>Preprocessor</code></p>
</blockquote>
<p>Remove the preamble from Metaflow output.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>When you run a metaflow Flow, you are presented with a fair amount of boilerpalte before the job starts running that is not necesary to show in the documentation:</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">show_plain_md</span><span class="p">(</span><span class="s1">&#39;test_files/run_flow.ipynb&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>```python
!python myflow.py run
```

    <span class="ansi-magenta-intense-fg ansi-bold">Metaflow 2.5.0.post6+git62f5e52</span><span class="ansi-magenta-fg"> executing </span><span class="ansi-red-intense-fg ansi-bold">MyFlow</span><span class="ansi-magenta-fg"> for </span><span class="ansi-red-intense-fg ansi-bold">user:hamel</span>
    <span class="ansi-magenta-fg">Validating your flow...</span>
    <span class="ansi-green-intense-fg ansi-bold">    The graph looks good!</span>
    <span class="ansi-magenta-fg">Running pylint...</span>
    <span class="ansi-green-intense-fg ansi-bold">    Pylint is happy!</span>
    <span class="ansi-magenta-fg">2022-02-14 22:56:56.887 </span><span class="ansi-bold">Workflow starting (run-id 1644908216882171):</span>
    <span class="ansi-magenta-fg">2022-02-14 22:56:56.893 </span><span class="ansi-green-fg">[1644908216882171/start/1 (pid 41032)] </span><span class="ansi-bold">Task is starting.</span>
    <span class="ansi-magenta-fg">2022-02-14 22:56:57.568 </span><span class="ansi-green-fg">[1644908216882171/start/1 (pid 41032)] </span>this is the start
    <span class="ansi-magenta-fg">2022-02-14 22:56:57.640 </span><span class="ansi-green-fg">[1644908216882171/start/1 (pid 41032)] </span><span class="ansi-bold">Task finished successfully.</span>
    <span class="ansi-magenta-fg">2022-02-14 22:56:57.647 </span><span class="ansi-green-fg">[1644908216882171/end/2 (pid 41037)] </span><span class="ansi-bold">Task is starting.</span>
    <span class="ansi-magenta-fg">2022-02-14 22:56:58.300 </span><span class="ansi-green-fg">[1644908216882171/end/2 (pid 41037)] </span>this is the end
    <span class="ansi-magenta-fg">2022-02-14 22:56:58.371 </span><span class="ansi-green-fg">[1644908216882171/end/2 (pid 41037)] </span><span class="ansi-bold">Task finished successfully.</span>
    <span class="ansi-magenta-fg">2022-02-14 22:56:58.372 </span><span class="ansi-bold">Done!</span>
    

</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We want to strip this output as well as the superflous clolors, which we can do with the <a href="/nbdoc/mdx.html#CleanOutput"><code>CleanOutput</code></a> preprocessor:</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">c</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">run_preprocessor</span><span class="p">([</span><span class="n">CleanOutput</span><span class="p">],</span> <span class="s1">&#39;test_files/run_flow.ipynb&#39;</span><span class="p">,</span> <span class="n">display_results</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">assert</span> <span class="s1">&#39;Validating your flow...&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">c</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>```python
!python myflow.py run
```

    2022-02-14 22:56:56.887 Workflow starting (run-id 1644908216882171):
    2022-02-14 22:56:56.893 [1644908216882171/start/1 (pid 41032)] Task is starting.
    2022-02-14 22:56:57.568 [1644908216882171/start/1 (pid 41032)] this is the start
    2022-02-14 22:56:57.640 [1644908216882171/start/1 (pid 41032)] Task finished successfully.
    2022-02-14 22:56:57.647 [1644908216882171/end/2 (pid 41037)] Task is starting.
    2022-02-14 22:56:58.300 [1644908216882171/end/2 (pid 41037)] this is the end
    2022-02-14 22:56:58.371 [1644908216882171/end/2 (pid 41037)] Task finished successfully.
    2022-02-14 22:56:58.372 Done!

</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="WriteTitle" class="doc_header"><code>class</code> <code>WriteTitle</code><a href="https://github.com/outerbounds/nbdoc/tree/master/nbdoc/mdx.py#L30" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>WriteTitle</code>(<strong>*<code>args</code></strong>, <strong>**<code>kwargs</code></strong>) :: <code>Preprocessor</code></p>
</blockquote>
<p>Modify the code-fence with the filename upon %%writefile cell magic.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a href="/nbdoc/mdx.html#WriteTitle"><code>WriteTitle</code></a> creates the proper code-fence with a title in the situation where the <code>%%writefile</code> magic is used.</p>
<p>For example, here are contents before pre-processing:</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">show_plain_md</span><span class="p">(</span><span class="s1">&#39;test_files/writefile.ipynb&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>A test notebook


```python
%%writefile myflow.py

from metaflow import FlowSpec, step

class MyFlow(FlowSpec):
    
    @step
    def start(self):
        print(&#39;this is the start&#39;)
        self.next(self.end)
    
    @step
    def end(self):
        print(&#39;this is the end&#39;)

if __name__ == &#39;__main__&#39;:
    MyFlow()
```

    Overwriting myflow.py



```python
%%writefile hello.txt

Hello World
```

    Overwriting hello.txt


</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>When we use <a href="/nbdoc/mdx.html#WriteTitle"><code>WriteTitle</code></a>, you will see the code-fence will change appropriately:</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">c</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">run_preprocessor</span><span class="p">([</span><span class="n">WriteTitle</span><span class="p">],</span> <span class="s1">&#39;test_files/writefile.ipynb&#39;</span><span class="p">,</span> <span class="n">display_results</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">c</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)[</span><span class="mi">3</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;```py title=&quot;myflow.py&quot;&#39;</span>
<span class="k">assert</span> <span class="n">c</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)[</span><span class="mi">24</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;```txt title=&quot;hello.txt&quot;&#39;</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>A test notebook


```py title=&#34;myflow.py&#34;
%%writefile myflow.py

from metaflow import FlowSpec, step

class MyFlow(FlowSpec):
    
    @step
    def start(self):
        print(&#39;this is the start&#39;)
        self.next(self.end)
    
    @step
    def end(self):
        print(&#39;this is the end&#39;)

if __name__ == &#39;__main__&#39;:
    MyFlow()
```


```txt title=&#34;hello.txt&#34;
%%writefile hello.txt

Hello World
```

</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="CleanMagics" class="doc_header"><code>class</code> <code>CleanMagics</code><a href="https://github.com/outerbounds/nbdoc/tree/master/nbdoc/mdx.py#L44" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>CleanMagics</code>(<strong>*<code>args</code></strong>, <strong>**<code>kwargs</code></strong>) :: <code>Preprocessor</code></p>
</blockquote>
<p>A preprocessor to remove cell magic commands</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a href="/nbdoc/mdx.html#CleanMagics"><code>CleanMagics</code></a> strips magic cell commands <code>%%</code> so they do not appear in rendered markdown files:</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">c</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">run_preprocessor</span><span class="p">([</span><span class="n">WriteTitle</span><span class="p">,</span> <span class="n">CleanMagics</span><span class="p">],</span> <span class="s1">&#39;test_files/writefile.ipynb&#39;</span><span class="p">,</span> <span class="n">display_results</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">assert</span> <span class="s1">&#39;</span><span class="si">%%</span><span class="s1">&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">c</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>A test notebook


```py title=&#34;myflow.py&#34;
from metaflow import FlowSpec, step

class MyFlow(FlowSpec):
    
    @step
    def start(self):
        print(&#39;this is the start&#39;)
        self.next(self.end)
    
    @step
    def end(self):
        print(&#39;this is the end&#39;)

if __name__ == &#39;__main__&#39;:
    MyFlow()
```


```txt title=&#34;hello.txt&#34;
Hello World
```

</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="BashIdentify" class="doc_header"><code>class</code> <code>BashIdentify</code><a href="https://github.com/outerbounds/nbdoc/tree/master/nbdoc/mdx.py#L54" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>BashIdentify</code>(<strong>*<code>args</code></strong>, <strong>**<code>kwargs</code></strong>) :: <code>Preprocessor</code></p>
</blockquote>
<p>A preprocessor to identify bash commands and mark them appropriately</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>When we issue a shell command in a notebook with <code>!</code>, we need to change the code-fence from <code>python</code> to <code>bash</code> and remove the <code>!</code>:</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">c</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">run_preprocessor</span><span class="p">([</span><span class="n">CleanOutput</span><span class="p">,</span> <span class="n">BashIdentify</span><span class="p">],</span> <span class="s1">&#39;test_files/run_flow.ipynb&#39;</span><span class="p">,</span> <span class="n">display_results</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">assert</span> <span class="s2">&quot;```bash&quot;</span> <span class="ow">in</span> <span class="n">c</span> <span class="ow">and</span> <span class="s1">&#39;!python&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">c</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>```bash
python myflow.py run
```

    2022-02-14 22:56:56.887 Workflow starting (run-id 1644908216882171):
    2022-02-14 22:56:56.893 [1644908216882171/start/1 (pid 41032)] Task is starting.
    2022-02-14 22:56:57.568 [1644908216882171/start/1 (pid 41032)] this is the start
    2022-02-14 22:56:57.640 [1644908216882171/start/1 (pid 41032)] Task finished successfully.
    2022-02-14 22:56:57.647 [1644908216882171/end/2 (pid 41037)] Task is starting.
    2022-02-14 22:56:58.300 [1644908216882171/end/2 (pid 41037)] this is the end
    2022-02-14 22:56:58.371 [1644908216882171/end/2 (pid 41037)] Task finished successfully.
    2022-02-14 22:56:58.372 Done!

</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Composing-Preprocessors-Into-A-Pipeline">Composing Preprocessors Into A Pipeline<a class="anchor-link" href="#Composing-Preprocessors-Into-A-Pipeline"> </a></h2><p>Lets see how you can compose all of these preprocessors together to process notebooks appropriately:</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="get_mdx_exporter" class="doc_header"><code>get_mdx_exporter</code><a href="https://github.com/outerbounds/nbdoc/tree/master/nbdoc/mdx.py#L65" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>get_mdx_exporter</code>(<strong><code>template_file</code></strong>=<em><code>'ob.tpl'</code></em>)</p>
</blockquote>
<p>A mdx notebook exporter which composes many pre-processors together.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a href="/nbdoc/mdx.html#get_mdx_exporter"><code>get_mdx_exporter</code></a> combines all of the previous preprocessors, along with the built in <code>TagRemovePreprocessor</code> to allow for hiding cell inputs/outputs based on cell tags.  Here is an example of markdown generated from a notebook with the default preprocessing:</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">show_plain_md</span><span class="p">(</span><span class="s1">&#39;test_files/example_input.ipynb&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>---
title: my hello page title
description: my hello page description
hide_table_of_contents: true
---
## This is a test notebook

This is a shell command:


```python
! echo hello
```

    hello


We are writing a python script to disk:


```python
%%writefile myflow.py

from metaflow import FlowSpec, step

class MyFlow(FlowSpec):
    
    @step
    def start(self):
        print(&#39;this is the start&#39;)
        self.next(self.end)
    
    @step
    def end(self):
        print(&#39;this is the end&#39;)

if __name__ == &#39;__main__&#39;:
    MyFlow()
```

    Overwriting myflow.py


Another shell command where we run a flow:


```python
! python myflow.py run
```

    <span class="ansi-magenta-intense-fg ansi-bold">Metaflow 2.5.0.post6+git62f5e52</span><span class="ansi-magenta-fg"> executing </span><span class="ansi-red-intense-fg ansi-bold">MyFlow</span><span class="ansi-magenta-fg"> for </span><span class="ansi-red-intense-fg ansi-bold">user:hamel</span>
    <span class="ansi-magenta-fg">Validating your flow...</span>
    <span class="ansi-green-intense-fg ansi-bold">    The graph looks good!</span>
    <span class="ansi-magenta-fg">Running pylint...</span>
    <span class="ansi-green-intense-fg ansi-bold">    Pylint is happy!</span>
    <span class="ansi-magenta-fg">2022-02-14 10:39:55.240 </span><span class="ansi-bold">Workflow starting (run-id 1644863995236850):</span>
    <span class="ansi-magenta-fg">2022-02-14 10:39:55.247 </span><span class="ansi-green-fg">[1644863995236850/start/1 (pid 97470)] </span><span class="ansi-bold">Task is starting.</span>
    <span class="ansi-magenta-fg">2022-02-14 10:39:55.840 </span><span class="ansi-green-fg">[1644863995236850/start/1 (pid 97470)] </span>this is the start
    <span class="ansi-magenta-fg">2022-02-14 10:39:55.911 </span><span class="ansi-green-fg">[1644863995236850/start/1 (pid 97470)] </span><span class="ansi-bold">Task finished successfully.</span>
    <span class="ansi-magenta-fg">2022-02-14 10:39:55.919 </span><span class="ansi-green-fg">[1644863995236850/end/2 (pid 97476)] </span><span class="ansi-bold">Task is starting.</span>
    <span class="ansi-magenta-fg">2022-02-14 10:39:56.519 </span><span class="ansi-green-fg">[1644863995236850/end/2 (pid 97476)] </span>this is the end
    <span class="ansi-magenta-fg">2022-02-14 10:39:56.593 </span><span class="ansi-green-fg">[1644863995236850/end/2 (pid 97476)] </span><span class="ansi-bold">Task finished successfully.</span>
    <span class="ansi-magenta-fg">2022-02-14 10:39:56.593 </span><span class="ansi-bold">Done!</span>
    

This is a normal python cell:


```python
a = 2
a
```




    2



The next cell has a cell tag of `remove_input`, so you should only see the output of the cell:


```python
print(&#39;hello, you should not see the print statement that produced me&#39;)
```

    hello, you should not see the print statement that produced me


</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Here is the same notebook, but with all of the preprocessors that we defined in this module.  Additionally, we hide the input of the last cell which prints <code>hello, you should not see the print statement...</code> by using the built in <code>TagRemovePreprocessor</code>:</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">exp</span> <span class="o">=</span> <span class="n">get_mdx_exporter</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">exp</span><span class="o">.</span><span class="n">from_filename</span><span class="p">(</span><span class="s1">&#39;test_files/example_input.ipynb&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>---
title: my hello page title
description: my hello page description
hide_table_of_contents: true
---
## This is a test notebook

This is a shell command:


```bash
echo hello
```

    hello


We are writing a python script to disk:


```py title=&#34;myflow.py&#34;
from metaflow import FlowSpec, step

class MyFlow(FlowSpec):
    
    @step
    def start(self):
        print(&#39;this is the start&#39;)
        self.next(self.end)
    
    @step
    def end(self):
        print(&#39;this is the end&#39;)

if __name__ == &#39;__main__&#39;:
    MyFlow()
```

Another shell command where we run a flow:


```bash
python myflow.py run
```

    2022-02-14 10:39:55.240 Workflow starting (run-id 1644863995236850):
    2022-02-14 10:39:55.247 [1644863995236850/start/1 (pid 97470)] Task is starting.
    2022-02-14 10:39:55.840 [1644863995236850/start/1 (pid 97470)] this is the start
    2022-02-14 10:39:55.911 [1644863995236850/start/1 (pid 97470)] Task finished successfully.
    2022-02-14 10:39:55.919 [1644863995236850/end/2 (pid 97476)] Task is starting.
    2022-02-14 10:39:56.519 [1644863995236850/end/2 (pid 97476)] this is the end
    2022-02-14 10:39:56.593 [1644863995236850/end/2 (pid 97476)] Task finished successfully.
    2022-02-14 10:39:56.593 Done!

This is a normal python cell:




    2



The next cell has a cell tag of `remove_input`, so you should only see the output of the cell:

    hello, you should not see the print statement that produced me


</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

</div>
 

